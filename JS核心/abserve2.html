<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="box">11</div>
    <button id="add">添加</button>
    <button id="del">删除</button>
    <button id="edit">修改</button>
  </body>
  <script>
    let box = document.querySelector('#box'),
      config = { attributes: true,  childList: true, }

    /*
     * 在我们创建MutationObserver对象的时候可以传入一个函数，
     *
     */
    let observer = new MutationObserver((mutations, observer) => {
      console.log(mutations, observer)

      for (const mutation of mutations) {
        console.log(`mutation.type:`, mutation.type);
        
      }

      // => 返回一个我们监听到的MutationRecord对象
      // MutationRecord对象 是我们每修改一个就会在数组里面追加一个
    })
    observer.observe(box, config) // 监听的 元素 和 配置项

    // box.setAttribute('name', '张三') // 修改属性
    // box.style.background = 'pink' // 修改样式

    const editBtn = document.querySelector('#edit')
    editBtn.addEventListener('click', () => {
      box.innerHTML = '修改后的内容'
    })

    const addBtn = document.querySelector('#add')
    addBtn.addEventListener('click', () => {
      // box.style.background = 'pink'
      // box.setAttribute('name', '张三')
      let newBox = document.createElement('div')
      newBox.innerHTML = '123123'
      box.appendChild(newBox)
    
    })

    const delBtn = document.querySelector('#del')
    delBtn.addEventListener('click', () => {
      // box.style.background = 'pink'
      box.removeAttribute('name')
    })


  </script>
</html>
